<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6 card py-4 pl-5 shadow">
      <form name="form" role="form" (ngSubmit)="changePassword()" #changePasswordForm="ngForm">
        <div class="form-group">
          <mat-form-field appearance="standard">
            <mat-label>Password</mat-label>

            <input
              matInput
              id="oldPassword"
              name="oldPassword"
              #oldPassword="ngModel"
              [(ngModel)]="userPassword.oldPassword"
              required
              [type]="hide ? 'password' : 'text'"
            />
            <mat-icon
              (click)="hide = !hide"
              *ngIf="!hide"
              class="fas fa-eye icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>
            <mat-icon
              (click)="hide = !hide"
              *ngIf="hide"
              class="fas fa-eye-slash icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>

            <mat-error *ngIf="oldPassword.hasError('required')"> Your old password is required.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field appearance="standard">
            <mat-label>New Password</mat-label>
            <input
              matInput
              [type]="hide ? 'password' : 'text'"
              id="newPassword"
              name="newPassword"
              #newPassword="ngModel"
              [(ngModel)]="userPassword.newPassword"
              minlength="6"
              maxlength="20"
              required
            />
            <mat-icon
              (click)="hide = !hide"
              *ngIf="!hide"
              class="fas fa-eye icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>
            <mat-icon
              (click)="hide = !hide"
              *ngIf="hide"
              class="fas fa-eye-slash icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>
            <mat-error *ngIf="newPassword.hasError('required')"> Enter your new password.</mat-error>
            <mat-error *ngIf="newPassword.hasError('minlength')">Password must be atleast 6 characters long.</mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field appearance="standard">
            <mat-label>Confirm New Password</mat-label>
            <input
              matInput
              [type]="hide ? 'password' : 'text'"
              id="confirmPassword"
              name="confirmPassword"
              #confirmPassword="ngModel"
              [(ngModel)]="confirmPasswordInput"
              required
            />
            <mat-icon
              (click)="hide = !hide"
              *ngIf="!hide"
              class="fas fa-eye icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>
            <mat-icon
              (click)="hide = !hide"
              *ngIf="hide"
              class="fas fa-eye-slash icon"
              aria-hidden="true"
              matSuffix
            ></mat-icon>
            <mat-error *ngIf="confirmPassword.hasError('required')"> Your password confirmation is required.</mat-error>
            <mat-error *ngIf="confirmPassword.hasError('mismatch')"> Your password do not match.</mat-error>
          </mat-form-field>
        </div>
        <div class=" mt-4 my-3 d-flex justify-content-center">
          <button [disabled]="changePasswordForm.invalid" mat-raised-button color="primary" type="submit" class="mb-4 ">
            Save Changes
          </button>
          <button (click)="back()" type="button" mat-raised-button color="default" class="mb-4 mx-3">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
